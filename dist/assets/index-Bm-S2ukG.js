(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();const I="fragment",N=new Map;let C=null,L=0,T=null,E=null,x=!1;const w=new Map,A=new Set;let P=new Set;function s(t,e,...o){const r=e?{...e}:{},n=[],l=i=>{if(!(i==null||typeof i=="boolean")){if(Array.isArray(i)){i.forEach(l);return}n.push(i)}};o.forEach(l),r.children||(r.children=n);const a={type:t??I,props:r,children:n};return"key"in r&&(a.key=r.key,delete r.key),a}function F(t,...e){return s(I,t,...e)}function H(t,e){T=t,E=e,O()}function k(t,e="0"){if(typeof t=="string"||typeof t=="number")return document.createTextNode(String(t));if(t.type===I){const o=document.createDocumentFragment();return t.children.forEach((r,n)=>{const l=k(r,`${e}.${n}`);o.appendChild(l)}),o}return typeof t.type=="function"?V(t,e):X(t,e)}function b(t){if(!C)throw new Error("useState must be called within a component.");const{record:e}=C,o=C.hookIndex++;o>=e.hooks.length&&e.hooks.push(t);const r=n=>{const l=e.hooks[o];e.hooks[o]=typeof n=="function"?n(l):n,U()};return[e.hooks[o],r]}function O(){if(!T||!E)return;L+=1,P=new Set,x=!1;const t=k(T,"0");E.replaceChildren(t),Z(),Q()}function U(){!T||!E||x||(x=!0,setTimeout(()=>O(),0))}function V(t,e){const o=N.get(e)??{hooks:[],lastUsedRender:0};o.lastUsedRender=L,N.set(e,o);const r=C;C={path:e,record:o,hookIndex:0};const n=t.type,l=n({...t.props,children:t.children});return C=r,l==null||typeof l=="boolean"?document.createComment("empty"):k(l,e)}function X(t,e){const o=document.createElement(t.type);return Y(o,t.props,e),t.children.forEach((r,n)=>{const l=k(r,`${e}.${n}`);o.appendChild(l)}),o}function Y(t,e,o){Object.entries(e).forEach(([r,n])=>{if(!(r==="children"||n===void 0||n===null)){if(r==="ref"){W(n,t);return}if(r==="className"){t.setAttribute("class",String(n));return}if(r==="style"){J(t,n);return}if(r.startsWith("on")&&typeof n=="function"){const l=r.slice(2).toLowerCase();z(t,l,o,n);return}if(typeof n=="boolean"){n?(t.setAttribute(r,""),r in t&&(t[r]=!0)):(t.removeAttribute(r),r in t&&(t[r]=!1));return}if(r==="dangerouslySetInnerHTML"&&typeof n=="object"&&n&&"__html"in n){t.innerHTML=n.__html;return}if(r in t)try{t[r]=n;return}catch{}t.setAttribute(r,String(n))}})}function W(t,e){if(typeof t=="function"){t(e);return}t&&typeof t=="object"&&"current"in t&&(t.current=e)}function J(t,e){if(typeof e=="string"){t.setAttribute("style",e);return}if(typeof e=="object"&&e!==null){const r=Object.entries(e).map(([n,l])=>`${K(n)}:${q(l)}`);t.setAttribute("style",r.join(";"))}}function K(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function q(t){return typeof t=="number"?`${t}px`:t}function z(t,e,o,r){const n=`${o}:${e}`;P.add(n);let l=w.get(e);l||(l=new Map,w.set(e,l)),l.set(n,r),G(e),t.setAttribute(`data-event-${e}`,n)}function G(t){A.has(t)||(document.addEventListener(t,j),A.add(t))}function Q(){const t=[];w.forEach((e,o)=>{e.forEach((r,n)=>{P.has(n)||e.delete(n)}),e.size===0&&t.push(o)}),t.forEach(e=>{w.delete(e),A.has(e)&&(document.removeEventListener(e,j),A.delete(e))}),P.clear()}function j(t){var r;const e=t.type;let o=t.target;for(;o;){const n=o.getAttribute(`data-event-${e}`);if(n){const l=(r=w.get(e))==null?void 0:r.get(n);l&&l.call(o,t);break}o=o.parentElement}}function Z(){N.forEach((t,e)=>{t.lastUsedRender!==L&&N.delete(e)})}const D=({title:t,subtitle:e,footer:o,className:r="",onClick:n,children:l})=>{const a=["card",r].filter(Boolean).join(" ");return s("div",{className:a,onClick:n},(t||e)&&s("header",null,t&&s("h3",null,t),e&&s("p",null,e)),s("div",{className:"card-body"},l),o&&s("footer",null,o))},tt=({isOpen:t,onClose:e,title:o,children:r,footer:n})=>t?s("div",{className:"modal-overlay",onClick:a=>{a.target===a.currentTarget&&(e==null||e())}},s("div",{className:"modal-content"},s("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16}},o&&s("h3",{style:{margin:0}},o),s("button",{onClick:()=>e==null?void 0:e(),"aria-label":"Close modal"},"×")),s("div",null,r),n&&s("footer",{style:{marginTop:16}},n))):F(null),et=({onSubmit:t,className:e="",children:o})=>{const r=n=>{n.preventDefault(),t==null||t(n)};return s("form",{className:["form",e].filter(Boolean).join(" "),onSubmit:r},o)},nt=({type:t="text",value:e,name:o,placeholder:r,className:n="",autoFocus:l=!1,ref:a,onChange:i})=>{const m=c=>{const u=c.target;i==null||i(u.value,c)};return s("input",{className:["input",n].filter(Boolean).join(" "),type:t,value:e,name:o,placeholder:r,autoFocus:l,ref:a,onInput:m})},R=({onClick:t,className:e="",title:o,children:r})=>s("button",{className:["counter-button",e].filter(Boolean).join(" "),onClick:t,title:o},r),rt=({initialCount:t=0,step:e=1})=>{const[o,r]=b(t),n=()=>r(i=>i+e),l=()=>r(i=>i-e),a=()=>r(t);return s("div",{className:"counter"},s("h2",null,"Team Productivity"),s("div",{className:"count"},o),s("div",{className:"buttons"},s(R,{onClick:n,title:`Increase by ${e}`},"+"),s(R,{onClick:l,title:`Decrease by ${e}`},"-"),s(R,{onClick:a,title:"Reset counter"},"Reset")))},ot=({todo:t,onToggle:e,onDelete:o})=>{const r=()=>e(t.id),n=()=>o(t.id);return s("div",{className:["todo-item",t.completed?"completed":""].filter(Boolean).join(" ")},s("label",{style:{display:"flex",alignItems:"center",gap:12,flex:1}},s("input",{type:"checkbox",checked:t.completed,onChange:r}),s("span",{className:"todo-text"},t.text)),s("div",{className:"todo-actions"},s("button",{onClick:r},t.completed?"Undo":"Done"),s("button",{onClick:n},"Delete")))},st=({onAdd:t})=>{const[e]=b({current:null}),o=()=>{var n;const r=(n=e.current)==null?void 0:n.value.trim();r&&(t(r),e.current&&(e.current.value=""))};return s(et,{className:"todo-form",onSubmit:r=>{o()}},s("div",{style:{display:"flex",gap:12}},s(nt,{ref:e,placeholder:"Add a new task",autoFocus:!0}),s("button",{type:"submit"},"Add")))},lt=["all","active","completed"],at=()=>{const[t,e]=b([]),[o,r]=b("all"),n=c=>{const u={id:Date.now(),text:c,completed:!1,createdAt:Date.now()};e(f=>[...f,u])},l=c=>{e(u=>u.map(f=>f.id===c?{...f,completed:!f.completed}:f))},a=c=>{e(u=>u.filter(f=>f.id!==c))},i=t.filter(c=>o==="completed"?c.completed:o==="active"?!c.completed:!0),m=t.filter(c=>c.completed).length;return s("div",{className:"todo-app"},s("header",null,s("h2",null,"Todo List"),s("div",{className:"control-group"},s("select",{value:o,onChange:c=>{const u=c.target;r(u.value)}},lt.map(c=>s("option",{key:c,value:c},c[0].toUpperCase()+c.slice(1)))),s("div",{className:"summary",style:{margin:0}},s("div",{className:"summary-item"},"Total: ",t.length),s("div",{className:"summary-item"},"Completed: ",m)))),s(st,{onAdd:n}),s("div",{className:"todo-items"},i.length===0&&s("p",null,"No tasks yet. Add one above!"),i.map(c=>s(ot,{key:c.id,todo:c,onToggle:l,onDelete:a}))))},v=["#8aa4f8","#6bc9ff","#9b6bff","#4dd2a5","#ffa14d","#f86b82"],it=({data:t,type:e,width:o=640,height:r=320,onSegmentClick:n})=>s("div",{className:"chart-container"},s("canvas",{className:"chart-canvas",width:o,height:r,ref:a=>{!a||!(a instanceof HTMLCanvasElement)||ct(a,{data:t,type:e,width:o,height:r,onSegmentClick:n})}}));function ct(t,e){const{data:o,type:r,width:n,height:l,onSegmentClick:a}=e,i=t.getContext("2d");if(!i)return;t.width=n??t.width,t.height=l??t.height,i.clearRect(0,0,t.width,t.height),i.lineJoin="round",i.lineCap="round",i.font='14px "Segoe UI", Arial, sans-serif',i.textAlign="center",i.fillStyle="#f6f7fb";const m={type:r,segments:[],onSegmentClick:a};switch(r){case"bar":ut(i,o,m,t.width,t.height);break;case"line":dt(i,o,m,t.width,t.height);break;case"pie":mt(i,o,m,t.width,t.height);break}t.__chartMeta=m,ft(t,i)}function ut(t,e,o,r,n){if(e.length===0){_(t,r,n);return}const l=48,a=24,i=Math.max(...e.map(u=>u.value)),m=n-l*2,c=(r-l*2-a*(e.length-1))/Math.max(e.length,1);e.forEach((u,f)=>{const h=u.value/i*m,y=l+f*(c+a),p=n-l-h,d=v[f%v.length],g=new Path2D;g.rect(y,p,c,h),t.fillStyle=d,t.fill(g),t.fillStyle="#f6f7fb",t.fillText(String(u.label),y+c/2,n-l+20),t.fillText(String(u.value),y+c/2,p-12),o.segments.push({id:u.id,label:u.label,value:u.value,category:u.category,color:d,path:g})})}function dt(t,e,o,r,n){if(e.length===0){_(t,r,n);return}const l=48,a=r-l*2,i=n-l*2,m=Math.max(...e.map(h=>h.value)),c=Math.min(...e.map(h=>h.value)),u=Math.max(m-c,1),f=a/Math.max(e.length-1,1);t.strokeStyle="#6bc9ff",t.lineWidth=3,t.beginPath(),e.forEach((h,y)=>{const p=l+y*f,d=n-l-(h.value-c)/u*i;y===0?t.moveTo(p,d):t.lineTo(p,d)}),t.stroke(),e.forEach((h,y)=>{const p=l+y*f,d=n-l-(h.value-c)/u*i,g=v[y%v.length],S=new Path2D;S.arc(p,d,8,0,Math.PI*2),t.fillStyle="#11131a",t.fill(S),t.strokeStyle=g,t.stroke(S),t.fillStyle="#f6f7fb",t.fillText(String(h.value),p-14,d-12),o.segments.push({id:h.id,label:h.label,value:h.value,category:h.category,color:g,path:S})})}function mt(t,e,o,r,n){if(e.length===0){_(t,r,n);return}const l=Math.min(r,n)/2-24,a=r/2,i=n/2,m=e.reduce((u,f)=>u+f.value,0);let c=-Math.PI/2;e.forEach((u,f)=>{const h=u.value/m*Math.PI*2,y=v[f%v.length],p=new Path2D;p.moveTo(a,i),p.arc(a,i,l,c,c+h),p.closePath(),t.fillStyle=y,t.fill(p);const d=c+h/2,g=a+Math.cos(d)*(l+20),S=i+Math.sin(d)*(l+20),B=(u.value/m*100).toFixed(0);t.fillStyle="#f6f7fb",t.fillText(`${B}%`,g-16,S),o.segments.push({id:u.id,label:u.label,value:u.value,category:u.category,color:y,path:p}),c+=h})}function _(t,e,o){t.fillStyle="rgba(255, 255, 255, 0.4)",t.textAlign="center",t.fillText("No data available",e/2,o/2)}function ft(t,e){if(t.__listenersAttached)return;const o=(a,i)=>{const m=t.__chartMeta;if(!m)return null;for(const c of m.segments)if(e.isPointInPath(c.path,a,i))return c;return null},r=a=>{const i=t.getBoundingClientRect(),m=a.clientX-i.left,c=a.clientY-i.top,u=o(m,c);u?(t.style.cursor="pointer",t.title=`${u.label} — ${u.value}`):(t.style.cursor="default",t.removeAttribute("title"))},n=()=>{t.style.cursor="default",t.removeAttribute("title")},l=a=>{const i=t.getBoundingClientRect(),m=a.clientX-i.left,c=a.clientY-i.top,u=o(m,c),f=t.__chartMeta;u&&f&&f.onSegmentClick&&f.onSegmentClick(u)};t.addEventListener("mousemove",r),t.addEventListener("mouseleave",n),t.addEventListener("click",l),t.__listenersAttached=!0}class ht{constructor(e=["Revenue","Users","Engagement","Performance"],o=60){this.data=[],this.subscribers=new Set,this.timer=null,this.categories=e,this.maxHistory=o,this.data=this.generateMockData(18)}getCategories(){return[...this.categories]}getSnapshot(){return[...this.data]}subscribe(e){return this.subscribers.add(e),e(this.getSnapshot()),()=>{this.subscribers.delete(e)}}start(e=4e3){this.timer===null&&(this.timer=window.setInterval(()=>{this.appendRandomPoint()},e))}stop(){this.timer!==null&&(window.clearInterval(this.timer),this.timer=null)}generateMockData(e){const o=Date.now(),r=6e4,n=[];for(let l=e-1;l>=0;l-=1){const a=o-l*r;n.push(this.createPoint(a))}return n}filterData(e){let r=this.getSnapshot();if(e.category&&e.category!=="all"&&(r=r.filter(n=>n.category===e.category)),e.rangeMinutes&&e.rangeMinutes>0){const n=Date.now()-e.rangeMinutes*6e4;r=r.filter(l=>l.timestamp>=n)}return r}getStats(e=this.data){if(e.length===0)return{average:0,max:0,min:0,total:0};const o=e.map(a=>a.value),r=o.reduce((a,i)=>a+i,0),n=Math.max(...o),l=Math.min(...o);return{average:r/o.length,max:n,min:l,total:r}}appendRandomPoint(){const e=Date.now(),o=this.createPoint(e);this.data=[...this.data.slice(-(this.maxHistory-1)),o],this.emit()}emit(){const e=this.getSnapshot();this.subscribers.forEach(o=>o(e))}createPoint(e){const o=this.categories[Math.floor(Math.random()*this.categories.length)];let r;switch(o){case"Revenue":r=Math.random()*500+100;break;case"Users":r=Math.random()*200+50;break;case"Engagement":r=Math.random()*100+20;break;case"Performance":r=Math.random()*80+10;break;default:r=Math.random()*100}const n=Math.sin(e/6e5)*20,l=(Math.random()-.5)*25,a=Math.max(5,Math.round(r+n+l));return{id:e,label:new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),value:a,category:o,timestamp:e}}}const M=new ht;M.start(4e3);const gt=["line","bar","pie"],pt=[15,30,60,120],yt=()=>{const[t,e]=b(M.getSnapshot()),[o,r]=b("line"),[n,l]=b("all"),[a,i]=b(60),[m,c]=b(null);b(()=>M.subscribe(d=>{e(()=>[...d])}));const u=["all",...M.getCategories()],f=t.filter(d=>{const g=n==="all"||d.category===n,S=d.timestamp>=Date.now()-a*6e4;return g&&S}).sort((d,g)=>d.timestamp-g.timestamp),h=M.getStats(f),y=d=>{c(()=>d)},p=()=>c(null);return s("div",{className:"dashboard"},s("div",{className:"dashboard-header"},s("div",null,s("h1",{style:{margin:0}},"Realtime Analytics Dashboard"),s("p",{style:{marginTop:8,opacity:.7}},"Custom JSX + TypeScript runtime demo")),s("div",{className:"control-group"},s("select",{value:o,onChange:d=>{const g=d.target;r(g.value)}},gt.map(d=>s("option",{key:d,value:d},d.toUpperCase()))),s("select",{value:n,onChange:d=>{const g=d.target;l(g.value)}},u.map(d=>s("option",{key:d,value:d},d==="all"?"All Categories":d))),s("select",{value:String(a),onChange:d=>{const g=d.target;i(Number(g.value))}},pt.map(d=>s("option",{key:d,value:d},"Last ",d," minutes"))))),s("div",{className:"dashboard-grid"},s(D,{title:"Analytics",subtitle:`Tracking ${f.length} events${n&&n!=="all"?` (${n})`:""}`},s(it,{data:f,type:o,onSegmentClick:y}),s("div",{className:"summary",style:{marginTop:24}},s("div",{className:"summary-item"},s("strong",null,"Total"),s("div",null,Math.round(h.total))),s("div",{className:"summary-item"},s("strong",null,"Average"),s("div",null,h.average.toFixed(1))),s("div",{className:"summary-item"},s("strong",null,"Max"),s("div",null,h.max)),s("div",{className:"summary-item"},s("strong",null,"Min"),s("div",null,h.min)))),s(D,{title:"Team Productivity",subtitle:"Manual counter demo"},s(rt,{initialCount:36})),s(D,{title:"Tasks",subtitle:"Lightweight todo list"},s(at,null))),s(tt,{isOpen:!!m,onClose:p,title:m?`Data Point — ${m.label}`:void 0,footer:s("button",{onClick:p,style:{padding:"0.5rem 1rem"}},"Close")},m?s("ul",{style:{listStyle:"none",padding:0,margin:0}},s("li",null,s("strong",null,"Value:")," ",m.value),s("li",null,s("strong",null,"Category:")," ",m.category),s("li",null,s("strong",null,"Color:")," ",m.color)):null))},$=document.getElementById("root");if(!$)throw new Error("Root element #root not found in DOM.");window.__APP_ROOT__=$;H(s(yt,null),$);
//# sourceMappingURL=index-Bm-S2ukG.js.map
